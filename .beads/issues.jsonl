{"id":"modest-0i9","title":"Extract duplicate restoration logic in Create methods","description":"ProductRepository.CreateProductAsync and SupplierRepository.CreateSupplierAsync have nearly identical soft-delete restoration logic (lines 137-158 and 118-142). Extract to helper method or base class to reduce ~40 lines of duplication.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:07:28.177615+05:00","updated_at":"2025-12-17T13:22:10.330833+05:00","closed_at":"2025-12-17T13:22:10.330833+05:00","close_reason":"Closed","labels":["DRY refactoring"]}
{"id":"modest-0o7","title":"Extract shared validator rules to reduce validator duplication","description":"ProductUpdateDtoValidator lines 11-29 duplicate ProductCreateDtoValidator lines 9-27. Same pattern exists for Supplier validators. Extract shared rules into base validator or use inheritance to reduce ~60 lines of duplicated code across 4+ validator files.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:43:43.507077+05:00","updated_at":"2025-12-16T21:04:02.169955+05:00","closed_at":"2025-12-16T21:04:02.169955+05:00","close_reason":"Closed","labels":["DRY","refactoring"]}
{"id":"modest-1ye","title":"Replace DateTimeOffset.UtcNow with ITimeProvider for testability","description":"Repositories use DateTimeOffset.UtcNow directly (10+ occurrences), making time-dependent tests difficult. Inject ITimeProvider/ISystemClock for better testability and Dependency Inversion Principle compliance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:08:27.85846+05:00","updated_at":"2026-01-18T14:45:22.128552+05:00","closed_at":"2026-01-18T14:45:22.128552+05:00","close_reason":"Closed","labels":["SOLID","refactoring","testing"]}
{"id":"modest-84b","title":"Create BaseLookupEndpoint for lookup endpoint duplication","description":"GetProductLookupEndpoint and GetSupplierLookupEndpoint have identical structure (27 lines each). Only differences: service type, DTO type, resource path. Create BaseLookupEndpoint\u003cTService, TLookupDto\u003e to reduce duplication.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T22:07:12.621816+05:00","updated_at":"2025-12-16T22:19:25.783028+05:00","closed_at":"2025-12-16T22:19:25.783028+05:00","close_reason":"Closed","labels":["DRY refactoring"]}
{"id":"modest-861","title":"Create BaseRepository to eliminate 80%+ duplicate repository logic","description":"ProductRepository and SupplierRepository have massive code duplication: index creation (lines 24-58), pagination logic (lines 100-130), soft delete logic, IsDeleted filtering (lines 67-90), and duplicate checking with restoration (lines 250-275 in Product, 180-215 in Supplier). Create generic BaseRepository\u003cTEntity, TDto, TCreateDto, TUpdateDto\u003e to reduce ~300 lines of duplicated code.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T19:42:58.229754+05:00","updated_at":"2025-12-16T21:54:14.735034+05:00","closed_at":"2025-12-16T21:54:14.735034+05:00","close_reason":"Closed","labels":["DRY","refactoring"]}
{"id":"modest-8mt","title":"Create PaginationHelper.BuildResponse to eliminate duplicate pagination code","description":"Lines 124-132 in ProductRepository and 109-122 in SupplierRepository repeat the same PaginatedResponse building code. Create helper method PaginationHelper.BuildResponse\u003cT\u003e() to eliminate this duplication.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:42:59.767859+05:00","updated_at":"2025-12-16T20:47:27.158374+05:00","closed_at":"2025-12-16T20:47:27.158374+05:00","close_reason":"Closed","labels":["DRY","refactoring"]}
{"id":"modest-9cy","title":"Security: Review AllowAnonymous on all endpoints","description":"All endpoints use AllowAnonymous() which bypasses authentication. This is likely for development but should be reviewed. Consider implementing proper authentication/authorization before production. Affects 17 endpoint files.","status":"blocked","priority":0,"issue_type":"bug","created_at":"2025-12-16T22:07:49.354197+05:00","updated_at":"2025-12-16T22:10:01.700652+05:00","labels":["bug","security"],"comments":[{"id":3,"issue_id":"modest-9cy","author":"aziz_mirzayev","text":"Blocked: Authentication/authorization system not yet implemented. AllowAnonymous() is currently necessary for all endpoints to function. This should be addressed after implementing auth system (consider creating auth implementation issue as dependency).","created_at":"2025-12-16T17:10:01Z"}]}
{"id":"modest-b2q","title":"PaginatedRequest throws ValidationException in setter (anti-pattern)","description":"PaginatedRequest.PageNumber and PageSize setters throw ValidationException directly. This violates separation of concerns - properties shouldn't validate. Move validation to FluentValidation validator. See lines 12-31 in PaginatedRequest.cs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:07:56.563795+05:00","updated_at":"2025-12-17T14:25:27.813802+05:00","closed_at":"2025-12-17T14:25:27.813802+05:00","close_reason":"Closed","labels":["SOLID","refactoring"]}
{"id":"modest-cdx","title":"Extract MongoDB transaction pattern to reduce duplication","description":"All Create methods use identical transaction pattern: StartSession, StartTransaction, try/catch with Commit/Abort. Consider extracting to ExecuteInTransaction\u003cT\u003e helper method to reduce ~10 lines per method (6 methods = ~60 lines saved).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T22:07:41.548764+05:00","updated_at":"2025-12-16T22:07:41.548764+05:00","labels":["DRY refactoring"]}
{"id":"modest-cv2","title":"Consider BaseGetAllEndpoint for GetAll endpoint duplication","description":"GetAllProductsEndpoint and GetAllSuppliersEndpoint have similar structure (~45 lines each) with nested request classes. Challenge: nested classes make abstraction complex. Evaluate if BaseGetAllEndpoint\u003cTService, TFilter, TDto\u003e would simplify or complicate per KISS principle.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T22:08:13.802843+05:00","updated_at":"2025-12-16T22:08:13.802843+05:00","labels":["DRY refactoring"]}
{"id":"modest-df8","title":"Create BaseGetByIdEndpoint for GetById endpoint duplication","description":"GetProductByIdEndpoint and GetSupplierByIdEndpoint have identical structure (31 lines each). Create BaseGetByIdEndpoint\u003cTService, TDto\u003e generic base class.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T22:07:05.208277+05:00","updated_at":"2025-12-16T22:13:09.747637+05:00","closed_at":"2025-12-16T22:13:09.747637+05:00","close_reason":"Closed","labels":["DRY refactoring"]}
{"id":"modest-e22","title":"Create generic GetDistinctFieldLookupAsync method","description":"ProductRepository has duplicate logic in GetManufacturerLookupDtosAsync (lines 167-195) and GetCountryLookupDtosAsync (lines 197-222). Create generic GetDistinctFieldLookupAsync\u003cT\u003e(fieldName, request) method to eliminate this duplication.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:43:00.109015+05:00","updated_at":"2025-12-16T20:56:18.14399+05:00","closed_at":"2025-12-16T20:56:18.14399+05:00","close_reason":"Closed","labels":["DRY","refactoring"]}
{"id":"modest-ef0","title":"Remove obsolete Code property from Supplier","description":"The Code property in SupplierDto and related classes is obsolete and needs to be removed from the entire codebase. This includes DTOs, entities, validators, services, repositories, mappers, and tests.\n\n## Context\n- Code property currently exists in SupplierDto, SupplierLookupDto, SupplierEntity\n- Code generation logic exists in SupplierService using SequenceNumberService\n- Unique index on Code exists in SupplierRepository\n- Validation rules for Code exist in SupplierLookupDtoValidator\n- Constants for Code prefix and sequence key exist in Constants.cs\n- Multiple test files reference Code property\n\n## Impact Areas\n- Core layer: DTOs, validators, service, interfaces\n- Data layer: Entity, repository, mappers\n- Constants and shared utilities\n- Integration tests","status":"open","priority":2,"issue_type":"epic","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:48:29.482993+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:48:29.482993+05:00"}
{"id":"modest-ef0.1","title":"Remove Code from SupplierDto and SupplierLookupDto","description":"Remove Code property from SupplierDto record. Remove Code property from SupplierLookupDto record. Verify both records compile without errors.\n\nFiles to review:\n- src/Modest.Core/Features/References/Supplier/SupplierDto.cs\n- src/Modest.Core/Features/References/Supplier/SupplierLookupDto.cs","status":"closed","priority":0,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:48.319168+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:55:02.063018+05:00","closed_at":"2026-02-08T19:55:02.063018+05:00","close_reason":"Closed","dependencies":[{"issue_id":"modest-ef0.1","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:48.320171+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.10","title":"Verify all Supplier tests pass after Code removal","description":"All supplier integration tests pass. No compilation errors in test project. No runtime errors related to Code property.\n\nFiles to review:\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/CreateSupplierEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/UpdateSupplierEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetAllSuppliersEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetSupplierByIdEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/DeleteSupplierEndpointTests.cs","status":"open","priority":2,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:50.853867+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:05.182746+05:00","dependencies":[{"issue_id":"modest-ef0.10","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:50.855031+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.10","depends_on_id":"modest-ef0.9","type":"blocks","created_at":"2026-02-08T19:50:18.975162+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.2","title":"Remove Code validation from SupplierLookupDtoValidator","description":"Remove all validation rules for Code property. Validator compiles without errors. No references to CodeMaxLength remain.\n\nFiles to review:\n- src/Modest.Core/Features/References/Supplier/SupplierLookupDtoValidator.cs","status":"closed","priority":0,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:48.597583+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:56:07.585435+05:00","closed_at":"2026-02-08T19:56:07.585435+05:00","close_reason":"Closed","dependencies":[{"issue_id":"modest-ef0.2","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:48.598517+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.3","title":"Remove Code generation logic from SupplierService","description":"Remove sequence number generation for Code. Update CreateSupplierAsync to not generate code. Remove code variable and related logic. Update repository call to not pass code parameter.\n\nFiles to review:\n- src/Modest.Core/Features/References/Supplier/SupplierService.cs\n- src/Modest.Core/Features/References/Supplier/ISupplierRepository.cs","status":"open","priority":0,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:48.882884+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:04.055218+05:00","dependencies":[{"issue_id":"modest-ef0.3","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:48.883859+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.3","depends_on_id":"modest-ef0.1","type":"blocks","created_at":"2026-02-08T19:50:17.437555+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.4","title":"Update ISupplierRepository interface","description":"Remove code parameter from CreateSupplierAsync signature. Interface compiles without errors.\n\nFiles to review:\n- src/Modest.Core/Features/References/Supplier/ISupplierRepository.cs","status":"open","priority":0,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:49.140189+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:04.215536+05:00","dependencies":[{"issue_id":"modest-ef0.4","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:49.141048+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.4","depends_on_id":"modest-ef0.1","type":"blocks","created_at":"2026-02-08T19:50:17.611133+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.5","title":"Remove Code from SupplierEntity and update repository","description":"Remove Code property from SupplierEntity. Remove ICodeEntity interface implementation. Remove unique index for Code in SupplierRepository. Update CreateSupplierAsync implementation to remove code parameter.\n\nFiles to review:\n- src/Modest.Data/Features/References/Supplier/SupplierEntity.cs\n- src/Modest.Data/Features/References/Supplier/SupplierRepository.cs","status":"open","priority":1,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:49.455907+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:04.484256+05:00","dependencies":[{"issue_id":"modest-ef0.5","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:49.45677+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.5","depends_on_id":"modest-ef0.4","type":"blocks","created_at":"2026-02-08T19:50:17.854487+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.6","title":"Update SupplierMappers to remove Code","description":"Remove Code from ToDto mapping. Remove Code from ToLookupDto mapping. Mappers compile without errors.\n\nFiles to review:\n- src/Modest.Data/Features/References/Supplier/SupplierMappers.cs","status":"open","priority":1,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:49.752226+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:04.635017+05:00","dependencies":[{"issue_id":"modest-ef0.6","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:49.753378+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.6","depends_on_id":"modest-ef0.1","type":"blocks","created_at":"2026-02-08T19:50:18.142379+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.6","depends_on_id":"modest-ef0.5","type":"blocks","created_at":"2026-02-08T19:50:18.319306+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.7","title":"Remove Supplier Code constants from Constants.cs","description":"Remove SupplierCodePrefix constant. Remove SupplierSequenceKey constant if not used elsewhere. Constants file compiles without errors.\n\nFiles to review:\n- src/Modest.Core/Common/Constants.cs","status":"open","priority":1,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:50.023696+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:04.791367+05:00","dependencies":[{"issue_id":"modest-ef0.7","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:50.024479+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.8","title":"Remove CodeMaxLength from SupplierConstants","description":"Remove CodeMaxLength constant. SupplierConstants compiles without errors. No references to CodeMaxLength remain.\n\nFiles to review:\n- src/Modest.Core/Features/References/Supplier/SupplierConstants.cs","status":"open","priority":0,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:50.304341+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:03.837003+05:00","dependencies":[{"issue_id":"modest-ef0.8","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:50.305281+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-ef0.9","title":"Update GetSupplierLookupEndpointTests","description":"Remove test method Given_Supplier_When_GettingLookup_Then_IncludesCodeAsync. Remove Code assertions from other test methods. All tests compile and pass.\n\nFiles to review:\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetSupplierLookupEndpointTests.cs","status":"open","priority":2,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-02-08T19:49:50.572326+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:50:05.020447+05:00","dependencies":[{"issue_id":"modest-ef0.9","depends_on_id":"modest-ef0","type":"parent-child","created_at":"2026-02-08T19:49:50.573291+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.9","depends_on_id":"modest-ef0.5","type":"blocks","created_at":"2026-02-08T19:50:18.563388+05:00","created_by":"Aziz Mirzayev"},{"issue_id":"modest-ef0.9","depends_on_id":"modest-ef0.6","type":"blocks","created_at":"2026-02-08T19:50:18.735148+05:00","created_by":"Aziz Mirzayev"}]}
{"id":"modest-iai","title":"Standardize entity-to-DTO mapping method names","description":"Inconsistent naming: SupplierEntity uses ToDto() while ProductEntity uses ToProductDto(). Standardize to either pattern across all entities for consistency and discoverability.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:08:34.965785+05:00","updated_at":"2025-12-17T13:47:36.421266+05:00","closed_at":"2025-12-17T13:47:36.421266+05:00","close_reason":"Closed","labels":["consistency","refactoring"]}
{"id":"modest-l9l","title":"Remove unused generic type parameters from BaseRepository","description":"BaseRepository has TCreateDto and TUpdateDto generic parameters but doesn't use them (CRUD moved back to repos). Violates Interface Segregation Principle. Remove unused parameters to simplify signature.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:07:19.917937+05:00","updated_at":"2025-12-17T12:43:40.986875+05:00","closed_at":"2025-12-17T12:43:40.986875+05:00","close_reason":"Closed","labels":["SOLID","refactoring"]}
{"id":"modest-mhd","title":"Extract duplicate conflict resolution logic in Update methods","description":"ProductRepository.UpdateProductAsync and SupplierRepository.UpdateSupplierAsync have identical conflict resolution logic (lines 188-198). Both rename deleted duplicates. Extract to helper method to reduce duplication.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:07:34.145993+05:00","updated_at":"2025-12-17T13:41:23.817181+05:00","closed_at":"2025-12-17T13:41:23.817181+05:00","close_reason":"Closed","labels":["DRY refactoring"]}
{"id":"modest-of8","title":"Extract magic strings to constants (sequence keys, code prefixes)","description":"ProductService and SupplierService have magic strings: 'products'/'suppliers' (sequence keys), 'SKU-'/'SUP-' (code prefixes). Extract to constants or configuration to improve maintainability and prevent typos.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T22:08:20.620031+05:00","updated_at":"2025-12-17T13:44:00.417126+05:00","closed_at":"2025-12-17T13:44:00.417126+05:00","close_reason":"Closed","labels":["best-practices","refactoring"]}
{"id":"modest-org","title":"Create generic base endpoints to eliminate CRUD duplication","description":"Every endpoint (CreateProductEndpoint, CreateSupplierEndpoint, UpdateProductEndpoint, etc.) has nearly identical structure. Create base generic endpoints like CreateEndpoint\u003cTService, TCreateDto, TDto\u003e to reduce ~400 lines of duplicated code across 16 endpoint files.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T19:42:38.35506+05:00","updated_at":"2025-12-16T22:04:29.038943+05:00","closed_at":"2025-12-16T22:04:29.038943+05:00","close_reason":"Closed","labels":["DRY","refactoring"],"comments":[{"id":2,"issue_id":"modest-org","author":"aziz_mirzayev","text":"Completed: Created BaseCreateEndpoint, BaseUpdateEndpoint, BaseDeleteEndpoint\n\nResults:\n- 6 CRUD endpoints refactored (Product/Supplier Create/Update/Delete)\n- Each endpoint reduced from ~24 lines to ~16 lines (33% reduction)\n- 3 base classes (89 lines total) provide reusable patterns\n- Simple abstraction: only ResourcePath, ResourceName, and service method call differ\n\nUnlike service layer, endpoint structure is truly boilerplate - perfect for abstraction.\n\nRemaining opportunities:\n- GetAll endpoints: Have nested request classes, would need different approach\n- Lookup endpoints: Different patterns, may not benefit from abstraction\n- Future endpoints will immediately benefit from base classes\n\nAll 169 tests passing.","created_at":"2025-12-16T17:04:28Z"}]}
{"id":"modest-wpj","title":"Create single IdRequest class to replace duplicate request classes","description":"Every GetById/Delete endpoint has identical request classes: DeleteProductRequest, DeleteSupplierRequest, GetProductByIdRequest, GetSupplierByIdRequest - all just contain 'public Guid Id'. Create single IdRequest class in Common namespace to reduce ~24 lines across 8 files.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:42:59.436731+05:00","updated_at":"2025-12-16T19:56:04.763973+05:00","closed_at":"2025-12-16T19:56:04.763973+05:00","close_reason":"Closed","labels":["DRY","refactoring"]}
{"id":"modest-wx9","title":"Architecture: Layer separation and modularity principle","description":"Core architectural principle: All layers must be separated. Application layer (Modest.Core) should work with console, web, or any project type. Each layer should have its own validation and be as modular as possible. Goal: When starting a new project, only need to copy the features folder and some common classes. This ensures true portability and reusability of business logic across different presentation layers.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T14:49:44.097547+05:00","updated_at":"2025-12-17T15:07:08.687611+05:00","closed_at":"2025-12-17T15:07:08.687611+05:00","close_reason":"Closed","labels":["architecture","documentation","principle"]}
{"id":"modest-xxn","title":"Remove Code field from Supplier entities and related components","description":"Remove the Code field from Supplier entities as it's no longer needed. This requires removing the field from DTOs, entities, validators, mappers, repository methods, service logic, API endpoints, and all related tests.\n\n## Acceptance Criteria\n- [ ] Code field removed from SupplierDto, SupplierEntity, SupplierLookupDto\n- [ ] Code-related validation rules removed from validators\n- [ ] Code field removed from repository methods and mappers\n- [ ] Code generation logic removed from SupplierService\n- [ ] Code-related constants cleaned up (SupplierCodePrefix, CodeMaxLength, etc.)\n- [ ] ICodeEntity interface implementation removed from SupplierEntity (if no longer needed)\n- [ ] Code field index removed from database repository\n- [ ] All integration tests updated to not expect Code field\n- [ ] All test assertions related to Code field removed\n- [ ] Build passes without errors\n- [ ] All tests pass\n\n## Steps to Solve\n1. Remove Code parameter from SupplierDto record\n2. Remove Code property from SupplierEntity class and ICodeEntity interface implementation\n3. Remove Code parameter from SupplierLookupDto record\n4. Update SupplierRepository to remove code parameter from CreateSupplierAsync method\n5. Update SupplierService to remove code generation logic\n6. Remove code-related validation rules from SupplierLookupDtoValidator\n7. Update SupplierMappers to not map Code field\n8. Remove Code field index creation from SupplierRepository\n9. Clean up constants: remove CodeMaxLength from SupplierConstants and SupplierCodePrefix from Constants\n10. Update all integration tests to remove Code field assertions and expectations\n11. Run full test suite to ensure no regressions\n\n## Files List to Review\n**Core Domain Models:**\n- src/Modest.Core/Features/References/Supplier/SupplierDto.cs\n- src/Modest.Core/Features/References/Supplier/SupplierLookupDto.cs\n- src/Modest.Data/Features/References/Supplier/SupplierEntity.cs\n\n**Repository Layer:**\n- src/Modest.Core/Features/References/Supplier/ISupplierRepository.cs\n- src/Modest.Data/Features/References/Supplier/SupplierRepository.cs\n- src/Modest.Data/Features/References/Supplier/SupplierMappers.cs\n\n**Service Layer:**\n- src/Modest.Core/Features/References/Supplier/SupplierService.cs\n\n**Validation:**\n- src/Modest.Core/Features/References/Supplier/SupplierLookupDtoValidator.cs\n\n**Constants:**\n- src/Modest.Core/Features/References/Supplier/SupplierConstants.cs\n- src/Modest.Core/Common/Constants.cs\n\n**Integration Tests:**\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/CreateSupplierEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetAllSuppliersEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetSupplierByIdEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/GetSupplierLookupEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/UpdateSupplierEndpointTests.cs\n- tests/Modest.IntegrationTests/Endpoints/References/Suppliers/DeleteSupplierEndpointTests.cs\n\n**Consider for removal if no longer used:**\n- src/Modest.Data/Common/ICodeEntity.cs (if only used by Supplier)","status":"tombstone","priority":1,"issue_type":"task","owner":"mirzaevaziz@gmail.com","created_at":"2026-01-18T14:48:18.014195+05:00","created_by":"Aziz Mirzayev","updated_at":"2026-02-08T19:35:38.508565+05:00","labels":["breaking-change","refactoring"],"deleted_at":"2026-02-08T19:35:38.508565+05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"modest-ydi","title":"Create BaseService to eliminate duplicate service layer logic","description":"ProductService and SupplierService are nearly identical with duplicated validation logic (lines 72-74 in Product, 54-56 in Supplier), logging patterns in every method, and pass-through methods (GetAll, GetById, etc.). Create abstract BaseService\u003cTEntity, TDto, TCreateDto, TUpdateDto\u003e to reduce ~80 lines of duplicated code.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-16T19:42:58.726653+05:00","updated_at":"2025-12-16T21:57:09.696261+05:00","closed_at":"2025-12-16T21:57:09.696261+05:00","close_reason":"Closed","labels":["DRY","refactoring"],"comments":[{"id":1,"issue_id":"modest-ydi","author":"aziz_mirzayev","text":"Analysis: Services have entity-specific concerns that don't abstract well:\n- Logging: ProductServiceLog vs SupplierServiceLog with different event IDs and messages\n- Code generation: SKU- vs SUP- patterns with different sequence keys\n- Pass-through methods: Already 1-liners, hard to simplify further\n- ValidationHelper.ValidateAndThrow: Already extracted to helper\n\nCreating BaseService would require:\n- Callback delegates for logging (callback hell, same issue we had with BaseRepository)\n- Abstract methods for code generation\n- Complex generics for minimal benefit (~20 lines saved vs added complexity)\n\nRecommendation: Keep services explicit per KISS principle, like we did with repository CRUD operations. The 'duplication' is actually entity-specific business logic that should stay visible.","created_at":"2025-12-16T16:55:39Z"}]}
{"id":"modest-zy2","title":"Improve exception handling in repository transaction blocks","description":"Repository Create methods catch all exceptions and abort transaction. Consider catching specific exceptions (e.g., MongoException) and logging before re-throwing. Bare catch/throw hides exception context and makes debugging harder.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T22:08:04.093772+05:00","updated_at":"2025-12-16T22:08:04.093772+05:00","labels":["best-practices"]}
